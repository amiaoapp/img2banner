<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IMG2Banner — 生成透明背景海报</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="topbar">
    <div class="theme-top">
      <button id="themeToggle" class="theme-btn" aria-label="切换主题" aria-pressed="false">
        <svg class="icon-sun" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.6"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2M12 20v2M4.9 4.9l1.4 1.4M17.7 17.7l1.4 1.4M2 12h2M20 12h2M4.9 19.1l1.4-1.4M17.7 6.3l1.4-1.4"/></svg>
        <svg class="icon-moon" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.6" style="display:none"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg>
      </button>
      <span class="theme-label">切换主题</span>
    </div>
  </div>
  <main class="app">
    <section class="panel left">
      <div class="brand">
        <h1>IMG2Banner</h1>
        <p>把正方形图片置中到可配置画布，导出 PNG / WebP</p>
        
      </div>

      <div class="uploader" id="dropArea">
        <input id="fileInput" type="file" accept="image/*" />
        <div class="hint">拖拽或点击上传，或按 Cmd+V 粘贴图片（支持 GIF，取首帧）</div>
        <canvas id="previewSmall" width="200" height="120" hidden></canvas>
        <div class="editor-area">
          <div class="editor-label">可视裁切预览（拖动缩放）</div>
          <canvas id="editorCanvas" width="120" height="120"></canvas>
          <div class="editor-hint">移动端：双指捏合缩放，单指拖动微调</div>
        </div>
      </div>

      <div class="controls">
        <div class="control-row">
          <label>画布尺寸</label>
          <div class="inputs">
            <input id="canvasW" type="number" min="1" value="300"> ×
            <input id="canvasH" type="number" min="1" value="200">
          </div>
        </div>


        <div class="control-row">
          <label>内图尺寸 (px)</label>
          <input id="innerSize" type="range" min="10" max="500" value="100">
          <input id="innerSizeNum" type="number" min="10" max="500" value="100">
        </div>

        <div class="control-row">
          <label>填充模式</label>
          <select id="fillMode">
            <option value="cover" selected>裁切（Cover）</option>
            <option value="pad">填充（Pad，保留完整图像并以背景/透明补边）</option>
          </select>
        </div>

        <div class="control-row">
          <label>缩放</label>
          <input id="zoom" type="range" min="50" max="300" value="100">
          <input id="zoomNum" type="number" min="50" max="300" value="100">%
          <button id="resetCrop" class="btn">重置裁切</button>
        </div>

        <div class="control-row">
          <label>背景</label>
          <div class="inputs">
            <label><input id="transparent" type="checkbox" checked> 透明</label>
            <input id="bgColor" type="color" value="#ffffff" disabled>
          </div>
        </div>

        <div class="control-row">
          <label>输出格式</label>
          <select id="format">
            <option value="image/png">PNG (透明)</option>
            <option value="image/webp">WebP (透明)</option>
          </select>
        </div>

        
      </div>
    </section>

    <section class="panel right">
      <div class="canvas-wrap">
        <canvas id="mainCanvas" width="300" height="200"></canvas>
        <div class="overlay">预览</div>
      </div>

      <div class="meta">
        <div>支持格式：PNG / JPG / JPEG / WEBP / GIF（取首帧）</div>
        <div>复制和下载均使用当前配置。</div>
      </div>

      <div class="actions-right">
        <div class="action-buttons">
          <button id="downloadBtn" class="btn primary">下载</button>
          <button id="copyBtn" class="btn">复制为 PNG</button>
          <button id="resetBtn" class="btn ghost">重置</button>
        </div>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
